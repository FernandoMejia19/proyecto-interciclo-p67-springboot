<div class="panel-asesorias">


    <section class="seccion-solicitudes" *ngIf="solicitudes.length > 0">
        <h3>ğŸ”” Solicitudes Pendientes</h3>
        
        <div class="grid-solicitudes">
            <div class="card-solicitud" *ngFor="let sol of solicitudes">
                <div class="info">
                    <span class="cliente">De: {{ sol.nombreSolicitante || 'Usuario AnÃ³nimo' }}</span>
                    <span class="tema">Tema: {{ sol.mensaje }}</span>
                    <span class="fecha">ğŸ“… {{ sol.fecha }} | â° {{ sol.horaInicio }} - {{ sol.horaFin }}</span>
                </div>
                <div class="acciones">
                    <button class="btn-aceptar" (click)="responder(sol.id, 'aceptada')">âœ… Aceptar</button>
                    <button class="btn-rechazar" (click)="responder(sol.id, 'rechazada')">âŒ Rechazar</button>
                </div>
            </div>
        </div> 
    </section>

    <hr *ngIf="solicitudes.length > 0">
    <section class="seccion-calendario">
        <h3>ğŸ“… Configurar mis Horarios Libres</h3>
        <p class="desc">Elige un dÃ­a y crea rangos de horas donde puedas atender.</p>

        <div class="form-disponibilidad">
            <div class="campo">
                <label>DÃ­a:</label>
                <input type="date" [(ngModel)]="fechaSeleccionada">
            </div>
            
            <div class="campo-horas" *ngIf="fechaSeleccionada">
                <div class="grupo">
                    <label>Desde:</label>
                    <input type="time" [(ngModel)]="horaInicio">
                </div>
                <div class="grupo">
                    <label>Hasta:</label>
                    <input type="time" [(ngModel)]="horaFin">
                </div>
            </div>

            <button class="btn-agregar" 
                    [disabled]="!fechaSeleccionada || !horaInicio || !horaFin || guardandoHorario"
                    (click)="agregarDisponibilidad()">
                {{ guardandoHorario ? 'Guardando...' : ' Agregar Horario Disponible' }}
            </button>
        </div>
    </section>

    <hr>

    <section class="seccion-agenda">
        <h3>ğŸ“† Mi Agenda Confirmada</h3>
        
        <div *ngIf="agenda.length === 0" class="vacio">
            No tienes citas confirmadas prÃ³ximamente.
        </div>

        <div class="lista-agenda">
            <div class="item-agenda" *ngFor="let cita of agenda">
                <div class="fecha-box">
                    <strong>{{ cita.fecha | date:'d' }}</strong> 
                    <small>{{ cita.fecha }}</small>
                </div>
                <div class="detalle-agenda">
                    <h4>ReuniÃ³n con {{ cita.nombreSolicitante }}</h4>
                    <p>{{ cita.tema }}</p>
                    <span class="hora-badge">â° {{ cita.horaInicio }} - {{ cita.horaFin }}</span>
                    
                    <a *ngIf="cita.linkReunion" [href]="cita.linkReunion" target="_blank">Unirse a la reuniÃ³n</a>
                </div>
            </div>
        </div>
    </section>

</div>